const api="https://s.allebach.com",apiInsta=`${api}/instagram`,apiTwitter=`${api}/twitter`;let request=a=>new Promise((s,e)=>{let t=new XMLHttpRequest;t.open(a.method||"POST",a.url),a.headers&&Object.keys(a.headers).forEach(s=>{t.setRequestHeader(s,a.headers[s])}),t.responseType="json",t.onload=(()=>{t.status>=200&&t.status<300?s(t.response):e(t.statusText)}),t.onerror=(()=>e(t.statusText)),t.send(a.body)});document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".social-feed-block").forEach(a=>{const s=a.dataset.insta,e=a.dataset.twitter,t=request({url:apiInsta,headers:{profile:s,count:4}}),i=request({url:apiTwitter,headers:{profile:e,count:2}});let r="";Promise.all([t,i]).then(s=>{r+="<div class='row instagram'>";for(const a of s[0])r+="<figure><a href='https://www.instagram.com/p/"+a.url_code+"'>",r+="<img src='"+a.img_src+"'></a>",r+='<span class="corner fa-stack fa-2x"><i class="fas fa-circle fa-stack-2x"></i><i class="fab fa-instagram fa-stack-1x fa-inverse"></i></span>',r+='<span class="middle fa-stack fa-2x"><i class="fas fa-circle fa-stack-2x"></i><i class="fab fa-instagram fa-stack-1x fa-inverse"></i></span></figure>';r+="</div>",r+="<div class='row twitter'>";for(const a of s[1].tweets)r+="<div><div class='tweet-wrap'>",r+="<div class='profile'><figure><a href='https://twitter.com/"+s[1].account.name+"'><img src='"+s[1].account.profile_pic+"' alt='Profile Picture'></a></figure><div class='name'>",r+="<a href='https://twitter.com/"+s[1].account.name+"'>"+s[1].account.full_name+"</a>",r+="<span>@"+s[1].account.name+"</span>",r+="</div></div>"+a.html,r+='<span class="corner fa-stack fa-2x"><i class="fas fa-circle fa-stack-2x"></i><i class="fab fa-twitter fa-stack-1x fa-inverse"></i></span></div></div>';r+="</div>",a.innerHTML=r})})});